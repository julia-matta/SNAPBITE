<div class="followers-container">
  <div class="header-section">
    <h1>Quem <span><%= @user.username.presence || @user.email %></span> está seguindo</h1>
    <p class="text-muted"><%= @following.count %> pessoas</p>
  </div>

  <% if @following.blank? %>
    <div class="empty-state">
      <p>Ainda não está seguindo ninguém.</p>
    </div>
  <% else %>
    <div class="followers-grid">
      <% @following.each do |u| %>
        <div class="follower-card">
          <div class="follower-info">
            <% if u.profile_picture.attached? %>
              <%= image_tag url_for(u.profile_picture), class: "follower-avatar" %>
            <% else %>
              <div class="follower-avatar placeholder-avatar"></div>
            <% end %>

            <div class="follower-details">
              <%= link_to (u.username.presence || u.email), user_path(u), class: "follower-name" %>
              <span class="badge-role <%= u.owner? ? 'role-restaurante' : 'role-cliente' %>">
                <%= u.owner? ? "Restaurante" : "Cliente" %>
              </span>
            </div>
          </div>

          <div class="follower-actions">
            <% if current_user && current_user == @user %>
              <%= button_to "Deixar de seguir", friendship_path(u), method: :delete,
                  class: "btn-unfollow",
                  data: { confirm: "Tem certeza que deseja deixar de seguir?" } %>
            <% end %>
          </div>
        </div>
      <% end %>
    </div>
  <% end %>
</div>
