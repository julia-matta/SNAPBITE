<h1> Explorar restaurantes</h1>
<h3> Descubra novos sabores pela cidade </h3>

<%= form_with url: explore_path, method: :get, local: true do %>
  <div class="row mb-3">
    <div class="col">
      <%= label_tag :query, "Buscar" %>
      <%= text_field_tag :query,
            params[:query],
            class: "form-control",
            placeholder: "Nome, infos, endereço..."
          %>
    </div>

    <div class="col">
      <%= label_tag :max_price, "Preço médio até (R$)" %>

      <% price_options = [
        ["Sem limite", ""],
        ["Até R$ 50", 50],
        ["Até R$ 100", 100],
        ["Até R$ 150", 150],
        ["Até R$ 200", 200]
      ] %>

      <%= select_tag :max_price,
            options_for_select(price_options, params[:max_price]),
            class: "form-select"
          %>
    </div>
  </div>

  <!-- BOTÕES CATEGORIES -->
  <div class="category-buttons mb-3">
    <% Restaurant::CATEGORIES.each do |cat| %>
      <% active = params[:category] == cat %>

      <%= button_tag type: :submit,
            name: :category,
            value: cat,
            class: "category-btn #{'active' if active}" do %>
        <%= cat %>
      <% end %>
    <% end %>

    <!-- Botão "Todas" -->
    <%= button_tag type: :submit,
          name: :category,
          value: "",
          class: "category-btn #{'active' if params[:category].blank?}" do %>
      Todas
    <% end %>
  </div>

  <%= submit_tag "Filtrar", class: "btn-filtrar" %>
<% end %>

<hr>
